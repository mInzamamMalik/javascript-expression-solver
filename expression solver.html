<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <style>
        *{
          font-size: 32px;
          font-family: "Segoe UI Light", "Segoe UI Semilight", "Segoe UI", serif;

        }
    </style>
</head>
<body>
<span style="text-shadow: 0px 0px 1px red">Expression Solver  </span>
<span style="font-size: 14px">  version 3<hr /> </span>
</body>
<script>
    var a = prompt("write your expression: ","100/-2*564/-200");
    var b =[];
    b = a.split("");
    if(b[0] == "-" || b[0] == "+"){             // this if statement added in version 2
        b.unshift("0");
    }
    document.write("<b>Steps:</b> <br />");
    document.write("Input: "+a+"<br />");
    var c =[];


    for(i=0;i<b.length;i++) {
        var j;
        if(j == undefined){
            j = 0;
        }

        if( b[i] != "+" &&
            b[i] != "-" &&
            b[i] != "*" &&
            b[i] != "/" ){

            if (c[j] == undefined) {
                c[j] = b[i];
            } else {
                c[j] += b[i];
            }

  }else if( b[i].charCodeAt(0) == 43 ||
            b[i].charCodeAt(0) == 45 ||
            b[i].charCodeAt(0) == 42 ||
            b[i].charCodeAt(0) == 47 ){

            c[j + 1] = b[i];
            j = j + 2;
            if(b[i+1]=="-"){
                b.splice(i+1,2,(b[i+1]+b[i+2]));     // this if statement added in version 3
            }

        } else {
            alert("error")
        }
    }



    for (i = 0; i < c.length; i++) {
        if (c[i] == "/") {
            var temp = +c[i - 1] / +c[i + 1];
            c.splice(i - 1, 3, temp);
            document.write("division: "+c + "<br />");
            i = 0;
        }
    }
    for (i = 0; i < c.length; i++) {
        if (c[i] == "*") {
            temp = +c[i - 1] * +c[i + 1];
            c.splice(i - 1, 3, temp);
            document.write("multiplication: "+c + "<br />");
            i = 0;
        }
    }
    for (i = 0; i < c.length; i++) {
        if (c[i] == "+") {
            temp = +c[i - 1] + +c[i + 1];
            c.splice(i - 1, 3, temp);
            document.write("addtion: "+c + "<br />");
            i = 0;
        }
        if (c[i] == "-") {
            temp = +c[i - 1] - +c[i + 1];
            c.splice(i - 1, 3, temp);
            document.write("subtraction: "+c + "<br />");
            i = 0;
        }
    }
        alert("Answer is: "+ c);




</script>

<p id="ans" style="text-shadow: 0px 0px 1px #00a100"></p>

<script>
    document.getElementById("ans").innerHTML = "<hr />Answer is: " + c;
</script>
</html>